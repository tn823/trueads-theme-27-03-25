<!-- saved from url=(0035)https://trueads.ai/access-to-store/ -->
<html style="font-size: 62.5%;">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="./shop-login_files/general.js.download"></script>
    <script src="./shop-login_files/saved_resource"></script>
    <script src="./shop-login_files/jquery.min.js.download"></script>
    <!-- new -->
    <link rel="stylesheet" href="/asset/css/style.css">
    <link rel="stylesheet" href="/asset/css/responsive.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <!-- end new -->
    <title>Cửa hàng truy cập</title>

    <style>
        /* styles.css */
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            background: linear-gradient(to bottom, #f7faff, #dbefff);
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            font-size: 16px;
        }

        .container {
            text-align: center;
            background-color: #fff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        h1 {
            font-size: 20px;
            color: #333;
            margin-bottom: 10px;
        }

        .info {
            font-size: 14px;
            color: #666;
        }

        .info .logout {
            color: #007bff;
            text-decoration: none;
        }

        .info .logout:hover {
            text-decoration: underline;
        }

        .store-list {
            margin-top: 20px;
        }

        .store-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 10px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            margin-bottom: 10px;
            background: #f9f9f9;
        }

        .store-icon img {
            width: 40px;
            height: 40px;
        }

        .store-info {
            flex-grow: 1;
            margin-left: 10px;
            text-align: left;
        }

        .store-info h2 {
            font-size: 16px;
            color: #333;
            margin: 0;
        }

        .store-info p {
            font-size: 14px;
            color: #666;
            margin: 0;
        }

        .close-btn {
            border: none;
            background: #f44336;
            color: #fff;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            cursor: pointer;
            font-size: 14px;
            line-height: 24px;
            text-align: center;
        }

        .close-btn:hover {
            background: #d32f2f;
        }

        @media screen and (min-width: 989px) {
            .container {
                width: 50% !important;
            }
        }

        #loading-page {
            position: fixed;
            top: 0;
            left: 0;
            height: 100vh;
            width: 100vw;
            background-color: rgba(0, 0, 0, .47);
            z-index: 9999;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
        }

        .lds-roller,
        .lds-roller div,
        .lds-roller div:after {
            box-sizing: border-box;
        }

        .lds-roller {
            display: inline-block;
            position: relative;
            width: 80px;
            height: 80px;
        }

        .lds-roller div {
            animation: lds-roller 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;
            transform-origin: 40px 40px;
        }

        .lds-roller div:after {
            content: " ";
            display: block;
            position: absolute;
            width: 7.2px;
            height: 7.2px;
            border-radius: 50%;
            background: currentColor;
            margin: -3.6px 0 0 -3.6px;
        }

        .lds-roller div:nth-child(1) {
            animation-delay: -0.036s;
        }

        .lds-roller div:nth-child(1):after {
            top: 62.62742px;
            left: 62.62742px;
        }

        .lds-roller div:nth-child(2) {
            animation-delay: -0.072s;
        }

        .lds-roller div:nth-child(2):after {
            top: 67.71281px;
            left: 56px;
        }

        .lds-roller div:nth-child(3) {
            animation-delay: -0.108s;
        }

        .lds-roller div:nth-child(3):after {
            top: 70.90963px;
            left: 48.28221px;
        }

        .lds-roller div:nth-child(4) {
            animation-delay: -0.144s;
        }

        .lds-roller div:nth-child(4):after {
            top: 72px;
            left: 40px;
        }

        .lds-roller div:nth-child(5) {
            animation-delay: -0.18s;
        }

        .lds-roller div:nth-child(5):after {
            top: 70.90963px;
            left: 31.71779px;
        }

        .lds-roller div:nth-child(6) {
            animation-delay: -0.216s;
        }

        .lds-roller div:nth-child(6):after {
            top: 67.71281px;
            left: 24px;
        }

        .lds-roller div:nth-child(7) {
            animation-delay: -0.252s;
        }

        .lds-roller div:nth-child(7):after {
            top: 62.62742px;
            left: 17.37258px;
        }

        .lds-roller div:nth-child(8) {
            animation-delay: -0.288s;
        }

        .lds-roller div:nth-child(8):after {
            top: 56px;
            left: 12.28719px;
        }

        @keyframes lds-roller {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }
    </style>
    <style>
        *,
        ::before,
        ::after {
            --tw-border-spacing-x: 0;
            --tw-border-spacing-y: 0;
            --tw-translate-x: 0;
            --tw-translate-y: 0;
            --tw-rotate: 0;
            --tw-skew-x: 0;
            --tw-skew-y: 0;
            --tw-scale-x: 1;
            --tw-scale-y: 1;
            --tw-pan-x: ;
            --tw-pan-y: ;
            --tw-pinch-zoom: ;
            --tw-scroll-snap-strictness: proximity;
            --tw-gradient-from-position: ;
            --tw-gradient-via-position: ;
            --tw-gradient-to-position: ;
            --tw-ordinal: ;
            --tw-slashed-zero: ;
            --tw-numeric-figure: ;
            --tw-numeric-spacing: ;
            --tw-numeric-fraction: ;
            --tw-ring-inset: ;
            --tw-ring-offset-width: 0px;
            --tw-ring-offset-color: #fff;
            --tw-ring-color: rgb(59 130 246 / 0.5);
            --tw-ring-offset-shadow: 0 0 #0000;
            --tw-ring-shadow: 0 0 #0000;
            --tw-shadow: 0 0 #0000;
            --tw-shadow-colored: 0 0 #0000;
            --tw-blur: ;
            --tw-brightness: ;
            --tw-contrast: ;
            --tw-grayscale: ;
            --tw-hue-rotate: ;
            --tw-invert: ;
            --tw-saturate: ;
            --tw-sepia: ;
            --tw-drop-shadow: ;
            --tw-backdrop-blur: ;
            --tw-backdrop-brightness: ;
            --tw-backdrop-contrast: ;
            --tw-backdrop-grayscale: ;
            --tw-backdrop-hue-rotate: ;
            --tw-backdrop-invert: ;
            --tw-backdrop-opacity: ;
            --tw-backdrop-saturate: ;
            --tw-backdrop-sepia: ;
            --tw-contain-size: ;
            --tw-contain-layout: ;
            --tw-contain-paint: ;
            --tw-contain-style:
        }

        ::backdrop {
            --tw-border-spacing-x: 0;
            --tw-border-spacing-y: 0;
            --tw-translate-x: 0;
            --tw-translate-y: 0;
            --tw-rotate: 0;
            --tw-skew-x: 0;
            --tw-skew-y: 0;
            --tw-scale-x: 1;
            --tw-scale-y: 1;
            --tw-pan-x: ;
            --tw-pan-y: ;
            --tw-pinch-zoom: ;
            --tw-scroll-snap-strictness: proximity;
            --tw-gradient-from-position: ;
            --tw-gradient-via-position: ;
            --tw-gradient-to-position: ;
            --tw-ordinal: ;
            --tw-slashed-zero: ;
            --tw-numeric-figure: ;
            --tw-numeric-spacing: ;
            --tw-numeric-fraction: ;
            --tw-ring-inset: ;
            --tw-ring-offset-width: 0px;
            --tw-ring-offset-color: #fff;
            --tw-ring-color: rgb(59 130 246 / 0.5);
            --tw-ring-offset-shadow: 0 0 #0000;
            --tw-ring-shadow: 0 0 #0000;
            --tw-shadow: 0 0 #0000;
            --tw-shadow-colored: 0 0 #0000;
            --tw-blur: ;
            --tw-brightness: ;
            --tw-contrast: ;
            --tw-grayscale: ;
            --tw-hue-rotate: ;
            --tw-invert: ;
            --tw-saturate: ;
            --tw-sepia: ;
            --tw-drop-shadow: ;
            --tw-backdrop-blur: ;
            --tw-backdrop-brightness: ;
            --tw-backdrop-contrast: ;
            --tw-backdrop-grayscale: ;
            --tw-backdrop-hue-rotate: ;
            --tw-backdrop-invert: ;
            --tw-backdrop-opacity: ;
            --tw-backdrop-saturate: ;
            --tw-backdrop-sepia: ;
            --tw-contain-size: ;
            --tw-contain-layout: ;
            --tw-contain-paint: ;
            --tw-contain-style:
        }

        /* ! tailwindcss v3.4.16 | MIT License | https://tailwindcss.com */
        *,
        ::after,
        ::before {
            box-sizing: border-box;
            border-width: 0;
            border-style: solid;
            border-color: #e5e7eb
        }

        ::after,
        ::before {
            --tw-content: ''
        }

        :host,
        html {
            line-height: 1.5;
            -webkit-text-size-adjust: 100%;
            -moz-tab-size: 4;
            tab-size: 4;
            font-family: ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
            font-feature-settings: normal;
            font-variation-settings: normal;
            -webkit-tap-highlight-color: transparent
        }

        body {
            margin: 0;
            line-height: inherit
        }

        hr {
            height: 0;
            color: inherit;
            border-top-width: 1px
        }

        abbr:where([title]) {
            -webkit-text-decoration: underline dotted;
            text-decoration: underline dotted
        }

        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
            font-size: inherit;
            font-weight: inherit
        }

        a {
            color: inherit;
            text-decoration: inherit
        }

        b,
        strong {
            font-weight: bolder
        }

        code,
        kbd,
        pre,
        samp {
            font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
            font-feature-settings: normal;
            font-variation-settings: normal;
            font-size: 1em
        }

        small {
            font-size: 80%
        }

        sub,
        sup {
            font-size: 75%;
            line-height: 0;
            position: relative;
            vertical-align: baseline
        }

        sub {
            bottom: -.25em
        }

        sup {
            top: -.5em
        }

        table {
            text-indent: 0;
            border-color: inherit;
            border-collapse: collapse
        }

        button,
        input,
        optgroup,
        select,
        textarea {
            font-family: inherit;
            font-feature-settings: inherit;
            font-variation-settings: inherit;
            font-size: 100%;
            font-weight: inherit;
            line-height: inherit;
            letter-spacing: inherit;
            color: inherit;
            margin: 0;
            padding: 0
        }

        button,
        select {
            text-transform: none
        }

        button,
        input:where([type=button]),
        input:where([type=reset]),
        input:where([type=submit]) {
            -webkit-appearance: button;
            background-color: transparent;
            background-image: none
        }

        :-moz-focusring {
            outline: auto
        }

        :-moz-ui-invalid {
            box-shadow: none
        }

        progress {
            vertical-align: baseline
        }

        ::-webkit-inner-spin-button,
        ::-webkit-outer-spin-button {
            height: auto
        }

        [type=search] {
            -webkit-appearance: textfield;
            outline-offset: -2px
        }

        ::-webkit-search-decoration {
            -webkit-appearance: none
        }

        ::-webkit-file-upload-button {
            -webkit-appearance: button;
            font: inherit
        }

        summary {
            display: list-item
        }

        blockquote,
        dd,
        dl,
        figure,
        h1,
        h2,
        h3,
        h4,
        h5,
        h6,
        hr,
        p,
        pre {
            margin: 0
        }

        fieldset {
            margin: 0;
            padding: 0
        }

        legend {
            padding: 0
        }

        menu,
        ol,
        ul {
            list-style: none;
            margin: 0;
            padding: 0
        }

        dialog {
            padding: 0
        }

        textarea {
            resize: vertical
        }

        input::placeholder,
        textarea::placeholder {
            opacity: 1;
            color: #9ca3af
        }

        [role=button],
        button {
            cursor: pointer
        }

        :disabled {
            cursor: default
        }

        audio,
        canvas,
        embed,
        iframe,
        img,
        object,
        svg,
        video {
            display: block;
            vertical-align: middle
        }

        img,
        video {
            max-width: 100%;
            height: auto
        }

        [hidden]:where(:not([hidden=until-found])) {
            display: none
        }

        .container {
            width: 100%
        }

        @media (min-width: 640px) {
            .container {
                max-width: 640px
            }
        }

        @media (min-width: 768px) {
            .container {
                max-width: 768px
            }
        }

        @media (min-width: 1024px) {
            .container {
                max-width: 1024px
            }
        }

        @media (min-width: 1280px) {
            .container {
                max-width: 1280px
            }
        }

        @media (min-width: 1536px) {
            .container {
                max-width: 1536px
            }
        }

        .mb-4 {
            margin-bottom: 1rem
        }

        .mb-\[10px\] {
            margin-bottom: 10px
        }

        .mt-\[20px\] {
            margin-top: 20px
        }

        .flex {
            display: flex
        }

        .hidden {
            display: none
        }

        .w-full {
            width: 100%
        }

        .w-2\/3 {
            width: 66.666667%
        }

        .cursor-pointer {
            cursor: pointer
        }

        .flex-col {
            flex-direction: column
        }

        .items-center {
            align-items: center
        }

        .justify-start {
            justify-content: flex-start
        }

        .border {
            border-width: 1px
        }

        .border-transparent {
            border-color: transparent
        }

        .text-sm {
            font-size: 0.875rem;
            line-height: 1.25rem
        }

        .font-medium {
            font-weight: 500
        }

        .hover\:border-\[cyan\]:hover {
            --tw-border-opacity: 1;
            border-color: rgb(0 255 255 / var(--tw-border-opacity, 1))
        }

        @media (min-width: 1024px) {
            .lg\:w-1\/2 {
                width: 50%
            }
        }
    </style>
</head>

<body style="display: flex;">
    <div id="loading-page" style="display: none;">
        <div class="lds-roller">
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
        </div>
    </div>
    <style>
        header {
            position: fixed;
            top: 0;
            width: 100%;
            padding: 15px 20px;
            display: flex;
            justify-content: flex-end;
            align-items: center;
            z-index: 1000;
        }

        .dropdown {
            position: relative;
            display: inline-block;
        }

        .avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            background-color: #D80F21;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #fff;
            font-size: 18px;
            font-family: Arial, sans-serif;
            transition: transform 0.3s ease;
        }

        .avatar:hover {
            transform: scale(1.1);
        }

        .dropdown-content {
            display: none;
            position: absolute;
            right: 0;
            background-color: #fff;
            min-width: 160px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
            border-radius: 5px;
            opacity: 0;
            transform: translateY(-10px);
            transition: all 0.3s ease;
        }

        .dropdown:hover .dropdown-content {
            display: block;
            opacity: 1;
            transform: translateY(0);
        }

        .dropdown-content a {
            color: #333;
            padding: 12px 16px;
            text-decoration: none;
            display: block;
            transition: background-color 0.3s ease;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .dropdown-content a:hover {
            background-color: #f1f1f1;
        }
    </style>
    <!-- <header>
        <div class="dropdown">
            <div class="avatar">A</div>
            <div class="dropdown-content"><a href="https://trueads.ai/profile">Thông tin tài khoản</a><a
                    href="https://trueads.ai/access-to-store/#">Cài đặt</a><a
                    href="https://trueads.ai/wp-login.php?action=logout&amp;_wpnonce=12bbf1877c">Đăng xuất</a></div>
        </div>
    </header> -->
    <script>
        const dropdown = document.querySelector(".dropdown");
        const avatar = document.querySelector(".avatar");
        const dropdownContent = document.querySelector(".dropdown-content");
        let isClicked = false;

        avatar.addEventListener("click", (e) => {
            e.preventDefault();
            isClicked = !isClicked;
            dropdownContent.classList.toggle("show-dropdown", isClicked);
        });

        dropdown.addEventListener("mouseenter", () => {
            if (!isClicked) {
                dropdownContent.classList.add("show-dropdown");
            }
        });

        dropdown.addEventListener("mouseleave", () => {
            if (!isClicked) {
                dropdownContent.classList.remove("show-dropdown");
            }
        });

        document.addEventListener("click", (e) => {
            if (!dropdown.contains(e.target) && isClicked) {
                isClicked = false;
                dropdownContent.classList.remove("show-dropdown");
            }
        });
    </script>
    <div class="shop-login">
        <div lass="login-left" style="    
            flex: 1;
            margin: auto;
            display: flex;
            justify-content: end;
            margin-right: 60px;
        ">
            <div class="login-left-container container flex flex-col items-center w-full">
                <div class="trueads-logo-login"><img class="fade show trueads-logo" alt="truads"
                        src="/asset/img/logo.svg"></div>
                <div class="login-left-content pd-15">
                    <h4>Chào mừng Luan Nguyen đã quay lại!</h4>
                    <p>Hãy chọn doanh nghiệp bạn muốn truy cập và sử dụng nhé.</p>
                </div>

                <div class="store-list w-full pd-15">
                    <div id="ownSite" class="">
                        <!-- <span class="w-full text-sm flex justify-start font-medium mb-[10px]"><label>Cửa hàng của
                                bạn:</label></span> -->
                        <div class="store-item cursor-pointer border border-transparent hover:border-[cyan]"
                            onclick="loginOwnStore(&#39;1&#39;, &#39;https://dev-true-ads.trueads.ai&#39;);">
                            <div class="store-icon">
                                <img src="/asset/img/shop-img-1.png" alt="Store Icon">
                            </div>
                            <div class="store-info">
                                <h2>An nhiên store</h2>
                                <p>annhienstore.trueads.ai</p>
                                <div class="store-details">
                                    <div class="truechat">
                                        <p>TrueAds Chat</p>
                                    </div>
                                    <div class="trueweb">
                                        <p>TrueAds Web</p>
                                    </div>
                                    <div class="truepos">
                                        <p>TrueAds POS</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="store-item cursor-pointer border border-transparent hover:border-[cyan]"
                            onclick="loginOwnStore(&#39;1&#39;, &#39;https://dev-true-ads.trueads.ai&#39;);">
                            <div class="store-icon">
                                <img src="/asset/img/shop-img-2.png" alt="Store Icon">
                            </div>
                            <div class="store-info">
                                <h2>Mộc Store</h2>
                                <p>mocstore.trueads.ai</p>
                                <div class="store-details">
                                    <div class="truechat">
                                        <p>TrueAds Chat</p>
                                    </div>
                                    <div class="trueweb">
                                        <p>TrueAds Web</p>
                                    </div>
                                    <div class="truecrm">
                                        <p>TrueAds CRM</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="siteServe" class="hidden">
                        <span class="w-full text-sm flex justify-start font-medium mb-[10px] mt-[20px]"><label>Cửa hàng
                                bạn
                                đang hợp
                                tác:</label></span>

                    </div>
                </div>
                <div class="shop-info pd-15">
                    <p class="info login">Bạn đang đăng nhập bằng số điện thoại <span>0908860193</span></p>
                    <p class="logout">Nếu đây không phải tài khoản của bạn >
                        <a href="https://trueads.ai/access-to-store/#" onclick="logoutSite();" class="logout">Đăng nhập tài khoản khác</a>
                    </p>
                </div>
                <div class="hotline-sp ">
                    <img src="/asset/img/img-hl-sp.svg" alt="">
                    <button><i class="fa-solid fa-phone"></i>Gọi Hotline Hỗ Trợ</button>
                </div>
            </div>
        </div>
        <div class="login-right">
            <div class="login-right-content">
                <p><strong>True<span>Ads</span></strong> Chat và Bán hàng Đa kênh</p>
                <img src="/asset/img/bg-2.svg" alt="">
            </div>
        </div>
    </div>


    <script>
        const url = new URLSearchParams(location.search)
        const callback = url.get('callback');
        toggleLoading().open();
        $(document).ready(function () {
            if (callback) {
                document.body.style.display = "none";
                getPageLogin(callback)
            } else {
                document.body.style.display = "flex";
                getAllSite();
            }
        })

        function getAllSite() {
            $.ajax({
                url: hostName,
                type: 'GET',
                data: {
                    'action': 'get_all_sites_manage',
                },
                success: function (response) {
                    if (response.success) {
                        if (Array.isArray(response.data.own) && response.data.own.length > 0) {
                            $('#ownSite').removeClass('hidden');
                            response.data.own.forEach(function (item) {
                                $('#ownSite').append(`
                            <div class="store-item cursor-pointer border border-transparent hover:border-[cyan]" onclick="loginOwnStore('1', '${item.site_domain}');">
                                <div class="store-icon">
                                    <img src="https://trueads.ai/wp-content/themes/blank/assets/image/shop.svg" alt="Store Icon">
                                </div>
                                <div class="store-info">
                                    <h2>${item.site_title}</h2>
                                    <p>${item.site_domain.replace('https://', '').replace('/', '')}</p>
                                </div>
                            </div>
                        `);
                            })
                        }
                        if (Array.isArray(response.data.sitesServe) && response.data.sitesServe.length > 0) {
                            $('#siteServe').removeClass('hidden');
                            response.data.sitesServe.forEach(function (item) {
                                $('#siteServe').append(`
                                    <div class="store-item cursor-pointer border border-transparent hover:border-[cyan]" onclick="loginOwnStore('${item.id_site}', '${item.domain}');">
                                        <div class="store-icon">
                                            <img src="https://trueads.ai/wp-content/themes/blank/assets/image/seller.svg" alt="Store Icon">
                                        </div>
                                        <div class="store-info">
                                            <h2>${item.title}</h2>
                                            <p>${item.host}</p>
                                        </div>
                                    </div>
                            `);
                            })

                        }
                    }
                    toggleLoading().close();

                },
                error: function (error) {
                    toggleLoading().close();

                    console.log(error);
                }
            })
        }
        const getPageLogin = (url) => {
            toggleLoading().close();
            $.ajax({
                url: hostName,
                type: 'GET',
                data: {
                    'action': 'get_page_login',
                    url: url
                },
                success: function (response) {
                    if (response.success) {
                        document.body.style.display = "flex";
                        location.href = response.data.redirect
                    } else {
                        location.href = location.origin + '/access-to-store/'
                    }
                },
                error: function (error) {
                    location.href = location.origin + '/access-to-store/'

                }
            })
        }
        const loginOwnStore = (id, subsite) => {
            toggleLoading().open()
            $.ajax({
                url: hostName,
                type: 'POST',
                data: {
                    'action': 'login_own_store',
                    idLogin: id,
                    subsite
                },
                success: function (response) {
                    if (response.success) {
                        toggleLoading().close();
                        location.href = response.data.redirect
                    } else {
                        toggleLoading().close();
                        Toast.error('Đã có lỗi xảy ra. Vui lòng thử lại sau')
                    }
                },
                error: function (error) {
                    toggleLoading().close();
                    Toast.error('Đã có lỗi xảy ra. Vui lòng thử lại sau')
                }
            })
        }
    </script>
</body>

</html>